(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var i=e.g.document;if(!t&&i&&(i.currentScript&&(t=i.currentScript.src),!t)){var o=i.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p;const t={items:[{id:1,name:"iPhone 11",price:70,quantity:1,image:"./item1.webp",tag:"iphone",description:"Our thinnest, lightest notebook, completely transformed by the Apple M1 chip. CPU speeds up to 3.5x faster. GPU speeds up to 5x faster. "},{id:2,name:"MacBook Air",price:150,quantity:1,image:"./item2.webp",tag:"macbook",description:"Our thinnest, lightest notebook, completely transformed by the Apple M1 chip. CPU speeds up to 3.5x faster. GPU speeds up to 5x faster. "},{id:3,name:"iPad Pro",price:110,quantity:1,image:"./item3.webp",tag:"ipad",description:"Our thinnest, lightest notebook, completely transformed by the Apple M1 chip. CPU speeds up to 3.5x faster. GPU speeds up to 5x faster. "},{id:4,name:"Apple Watch",price:60,quantity:1,image:"./item4.webp",tag:"watch",description:"Our thinnest, lightest notebook, completely transformed by the Apple M1 chip. CPU speeds up to 3.5x faster. GPU speeds up to 5x faster. "},{id:5,name:"Apple Watch 3",price:40,quantity:1,image:"./item5.webp",tag:"watch",description:"Our thinnest, lightest notebook, completely transformed by the Apple M1 chip. CPU speeds up to 3.5x faster. GPU speeds up to 5x faster. "},{id:6,name:"AirPods Pro",price:35,quantity:1,image:"./item6.webp",tag:"airpods",description:"Our thinnest, lightest notebook, completely transformed by the Apple M1 chip. CPU speeds up to 3.5x faster. GPU speeds up to 5x faster. "},{id:7,name:"iMac Pro",price:200,quantity:1,image:"./item7.webp",tag:"mac",description:"Our thinnest, lightest notebook, completely transformed by the Apple M1 chip. CPU speeds up to 3.5x faster. GPU speeds up to 5x faster. "},{id:8,name:"iPhone 13 Pro Max",price:130,quantity:1,image:"./item8.webp",tag:"iphone",description:"Our thinnest, lightest notebook, completely transformed by the Apple M1 chip. CPU speeds up to 3.5x faster. GPU speeds up to 5x faster. "},{id:9,name:"AirPods 2",price:35,quantity:1,image:"./item9.webp",tag:"airpods",description:"Our thinnest, lightest notebook, completely transformed by the Apple M1 chip. CPU speeds up to 3.5x faster. GPU speeds up to 5x faster. "},{id:10,name:"iMac 2021 24”",price:240,quantity:1,image:"./item10.webp",tag:"mac",description:"Our thinnest, lightest notebook, completely transformed by the Apple M1 chip. CPU speeds up to 3.5x faster. GPU speeds up to 5x faster. "}],category:"all",priceFilter:"HL"},i=!(location.href.includes("about")||location.href.includes("contact")),o=document.querySelector(".shop-items");function r(e,t,i=1){e.sort(((e,t)=>i?t.price-e.price:0)).forEach((e=>{const i=document.createElement("div");i.classList.add("shop-item"),i.id=e.tag,i.innerHTML=`\n      <img src="${e.image}" alt="${e.name}">\n      <h3>${e.name}</h3>\n      <p>${e.price} $</p>\n    `,t.appendChild(i)}))}const n=document.querySelectorAll(".category"),c=e=>"all"===e?t.items:t.items.filter((t=>t.tag===e));i&&function(e,t){e.forEach((i=>{i.onclick=i=>{t.category=(e=>e.target.innerText.toLowerCase())(i),document.querySelectorAll(".shop-item").forEach((e=>{e.remove()})),r("LH"===t.priceFilter?c(t.category).sort(((e,t)=>e.price-t.price)):c(t.category).sort(((e,t)=>t.price-e.price)),o,0),m(document.querySelectorAll(".shop-item")),Array.from(e).find((e=>e.classList.contains("active"))).classList.remove("active"),i.target.className="category active"}}))}(n,t),i&&r(t.items,o),document.querySelectorAll(".shop-item");const s=e=>{p(e.target.parentNode,1)},a=()=>{document.querySelector(".order").remove(),document.querySelector(".item-page").style.opacity="1"},l=e=>{let t=document.createElement("div");t.className="order",t.innerHTML=`\n  <div class = "order-block">\n    <img class = "block-close" src = './img/ico/xmark.webp' alt = 'close order block' width = '15' height = '20'>\n      <img src = './img/ico/success.webp' width = '80' height = '80' alt = 'payment was success'>\n      <div class = "block-text">\n        <p>Product: ${document.querySelector(".item-name").innerText}</p>\n        <p>Payment processed!</p>\n        <p>Thank you!</p>\n      </div>\n  </div>`,document.body.appendChild(t),document.querySelector(".item-page").style.opacity="0.6",document.querySelector(".block-close").onclick=a};function p(e,i=0){document.querySelector(".item-page")&&document.querySelector(".item-page").remove();let o=document.createElement("div");o.className="item-page";let r=i?e.children[2].children[0].innerText:e.children[1].innerText,n=t.items[Math.floor(Math.random()*t.items.length)];for(;n.name===r;)n=t.items[Math.floor(Math.random()*t.items.length)];o.innerHTML=`\n  <img class = 'page-img' src = '${e.innerHTML.split("src=")[1].split('"')[1]}' width = '400' height = '380'>\n  <div class = 'page-controls'>\n    <div class = 'product-info'>\n      <h3 class = 'item-name'>${r}</h3>\n      <p>${i?t.items.find((e=>e.name===r)).description:t.items.find((e=>e.name===r)).description}</p>\n      <button>${i?e.children[2].children[1].innerText:e.children[2].innerText}</button>\n      <div class = 'controls-share'>\n        <p>Share on</p>\n        <div class = 'controls-share-icons'>\n          <img src="./img/ico/dribbble-dark.webp">\n          <img src="./img/ico/inst-dark.webp">\n          <img src="./img/ico/twitter-dark.webp">\n        </div>\n      </div>\n    </div>\n      <div class = 'similar-product'>\n        <h3 class="product-title">Similar product</h3>\n        <img src = '${n.image}'>\n        <div class = 'product-text-block'>\n          <h3>${n.name}</h3>\n          <p>${n.price}$</p>\n        </div>\n      </div>\n    </div>\n  </div>`,document.body.prepend(o),document.querySelector(".similar-product").onclick=s,document.querySelector(".product-info").children[2].onclick=l}function m(e,t=0){let o=document.getElementsByTagName("main")[0],r=document.querySelector(".home"),n=i?document.getElementsByTagName("footer")[0]:0;function c(e){location.href.includes("item")?(s("home"),a("item",e),1===t&&(document.querySelector(".header-search").value=""),1===t?document.querySelector(".search-result").remove():console.log(t)):(s("item"),a("home"))}function s(e){"home"===e?(o.style.display="none",i&&(n.style.display="none")):document.querySelector(".item-page").remove()}function a(e,t){"home"===e?(o.style.display="block",i&&(n.style.display="flex")):p(t)}return Array.from(e).forEach(((e,t)=>e.onclick=()=>{history.pushState(null,null,`item-${e.children[1].outerText.toLowerCase().replace(/\s/g,"")}`),c(e),console.log(e,t)})),window.onpopstate=()=>{c()},r.onclick=()=>{location.href.includes("github")?history.pushState(null,null,"/course"):history.pushState(null,null,"/"),c()},0}i&&m(document.querySelectorAll(".shop-item"));let d=i?document.querySelector(".category-price"):0;i&&(d.onchange=e=>{t.priceFilter=e.target.value,function(){let e=[],i=[];"HL"===t.priceFilter?e=t.items.sort(((e,t)=>t.price-e.price)):"LH"===t.priceFilter&&(e=t.items.sort(((e,t)=>e.price-t.price))),i="all"===t.category?e:e.filter((e=>e.tag===t.category)),function(e){document.querySelectorAll(".shop-item").forEach((e=>{e.remove()})),r(e,o,0),m(document.querySelectorAll(".shop-item"))}(i)}()});document.querySelector(".header-search").oninput=e=>{let i=[],o=e.target.value.toLowerCase().replace(/\s/g,"");var r;t.items.forEach((e=>{(e.name.toLowerCase().replace(/\s/g,"").includes(o)||e.description.toLowerCase().replace(/\s/g,"").includes(o))&&o.length>=3&&i.push(e)})),o.length>=3?(e=>{if(!document.querySelector(".search-result")){let t=document.createElement("div");t.className="search-result";let i=document.createElement("h3");i.innerText="Search result",t.appendChild(i),document.body.appendChild(t),(e=>{e.forEach((e=>{let t=document.createElement("div"),i=document.createElement("h3"),o=document.createElement("p"),r=document.createElement("img");t.className="search-item",i.innerText=e.name,o.innerText=e.price+"$",r.src=e.image,t.appendChild(r),t.appendChild(i),t.appendChild(o),document.querySelector(".search-result").appendChild(t)}))})(e),m(document.querySelectorAll(".search-item"),1)}})(i):(r=document.querySelector(".search-result"),console.log("lsds"),r&&r.remove())},window.innerWidth,document.querySelector(".header-menu").onclick=e=>{let t=document.createElement("div");t.className="menu-block",t.style.display="none",t.innerHTML="\n    <img class = 'menu-close' src = './img/ico/xmark.webp' width = '30' height = '45'>\n    <div class = 'menu-content'>\n      <p class = 'menu-item'><a href = './index.html'>Home</a></p>\n      <p class = 'menu-item'><a href = './about.html'>About</a></p>\n      <p class = 'menu-item'><a href = './contact.html'>Contact</a></p>\n    </div>\n  ",document.getElementsByTagName("main")[0].appendChild(t);const i=e=>{e.remove()};var o;(o=t).style.display="block",o.style.opacity="0",setTimeout((e=>{e.style.transitionDuration=".5s",e.style.opacity="1"}),100,t),document.querySelector(".menu-close").onclick=()=>{(e=>{e.style.opacity="0"})(t),setTimeout(i,500,t)}}})();